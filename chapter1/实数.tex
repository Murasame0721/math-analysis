\section{实数}

实数理论这一节的目标是从基本的集合论出发（只假设同学们熟知有理数和⾃然数），通过严格和完备的推理，证明若干论题作为基本的工具。这些通过严格论证得来的工具将会⽀撑着我们直观的图像，使得我们可以形象地思考和解决问题的同时不失严谨。

\subsection{实数的公理化描述}

$\RR$是一个集合，设$x,y,z\in \RR$

\begin{itemize}
    \item $\RR$上有两个操作
    
    \begin{itemize}
        \item 加法$+:\RR \times \RR \rightarrow \RR,(x,y)\mapsto x+y$
        \item 乘法：$\cdot \RR\times\RR\rightarrow\RR,(x,y)\mapsto x\cdot y$
    \end{itemize}

    \item $\RR$上有一个序关系$\leq$：$x\leq y$
\end{itemize}

规定四元组$(\RR,+,\cdot,\leq)$满足以下四套公理：

\begin{itemize}
    \item[(F)] 域公理：$\RR$是一个域
    \begin{enumerate}[(F1)]
        \item 加法结合律：$x+(y+z) = (x+y)+z$
        \item 加法交换律：$x+y=y+z$
        \item 存在加法单位元$\exists 0\in \RR.\forall x\in \RR,0+x=x$
        \item 加法逆元的存在性$\forall x\in \RR,\exists -x\in \RR,x+(-x)=0$\\
        \begin{remark}
            若(F1)-(F4)成立，则$(\RR,+)$被称作是一个交换群。同时，$-x$目前只是一个记号，因为我们还未定义减法运算。
        \end{remark}
        \item 乘法结合律$x\cdot(y\cdot z) = (x\cdot y)\cdot z$
        \item 乘法交换律$x\cdot y = y\cdot z$
        \item 存在乘法单位元$\exists 1\in \RR,1\neq 0,\forall x\in\RR, 1\cdot x = x$
        \item 乘法逆元的存在性$\forall x\in \RR-\{0\},\exists x^{-1}\in \RR,x\cdot x^{-1}=1$\\
        \begin{remark}
            (F5)-(F9)这四条公理表明：$(\RR^{\times}:=\RR\backslash\{0\},\cdot)$是一个交换群，同时强调$x^{-1}$也只是一个记号，因为还未定义乘方运算。
        \end{remark}
        \item 乘法分配律$x\cdot(y+z) = x\cdot y+x\cdot z$
    \end{enumerate}
\end{itemize}

假定满足(F1)-(F7)以及(F9)，我们就称$(\RR,+,\cdot)$是一个交换环，满足这9条公理的$(\RR,+,\cdot)$被称作是一个域

对于正整数$n$，我们约定$x^n=x\cdot x\cdots \cdot x$（共$n$个$x$），$nx=x+x+\cdots +x$（共$n$个$x$）。类似的，对于$n\in\ZZ,n<0$，我们约定$x^n=x^{-1}\cdot x^{-1}\cdots \cdot x^{-1}$（共$n$个$x^{-1}$），$nx=(-x)+(-x)+\cdots+(-x)$（共$n$个$-x$）。我们规定$0x=0$，$x^0=1(x\neq 0)$.

由此，我们定义了以整数$n\in \ZZ$为幂的幂函数：
\[\RR\rightarrow\RR,x\mapsto x^n\]

\begin{itemize}
    \item[(O)] $\RR$是有序域
    \begin{enumerate}[(O1)]
        \item 序的传递性：$x\leq y,y\leq z\Rightarrow x\leq z$
        \item 序可以决定元素：$x\leq y,y\leq x\Rightarrow x=y$
        \item 全序关系$\forall x,y$，要么$x\leq y$，要么$y\leq x$（可以都成立）
        \item 与加法相容：$x\leq y\Rightarrow x+z\leq y+z$
        \item 与乘法相容：$x\geq 0,y\geq 0\Rightarrow xy\geq 0$
    \end{enumerate}
\end{itemize}

在$\geq,\leq$的基础上，我们给出大于号和小于号的定义：若$x\leq y$且$x\neq y$，则$x<y$，类似地，可以定义$x>y$.

由全序关系，我们可以知道，如下三种关系必居其一且互斥：

$x<y,x=y,x>y$

另外，若$x>0$，我们就称$x$是正实数并且称它的符号是正的，记作$\sign(x)=+$；如果$x<0$，我们就称$x$是负实数并且称它的符号是负的，记作$\sign(x)=-$.换句话说，我们定义了一个映射：
\[\sign:\RR^{\times} \rightarrow\{+,-\}\]

\begin{remark}
    注意这里的$\sign$并非$\sign$函数
\end{remark}

\begin{definition}[区间]
    设$a,b\in\RR,a<b$，定义开区间、闭区间和半开半闭区间如下：
    \begin{equation*}
        [a,b] :=\{x\in\RR : a\leq x\leq b\}
    \end{equation*}
    \begin{equation*}
        (a,b) :=\{x\in\RR : a< x< b\}
    \end{equation*}
    \begin{equation*}
        [a,b) := \{x\in\RR : a\leq x< b\}
    \end{equation*}
    \begin{equation*}
        (a,b] :=\{x\in\RR : a< x\leq b\}
    \end{equation*}
    另外，作为约定：
    \begin{equation*}
        [a,+\infty):={x\in\RR:x\geq a}
    \end{equation*}
    \begin{equation*}
        (a,+\infty):={x\in\RR:x< a}
    \end{equation*}
    \begin{equation*}
        (-\infty,b]:={x\in\RR:x\leq b}
    \end{equation*}
    \begin{equation*}
        (-\infty,b):={x\in\RR:x< b}
    \end{equation*}

    其中$a$和$b$分别被称作这些区间的左端点和右端点
\end{definition}

\begin{itemize}
    \item[(A)] Archimedes 公理：$\RR$是Archimedes有序域，即\\
    $\forall x>0$和$y$，$\exists n\in\NN, nx\geq y$
\end{itemize}

基于以上公理，我们可以定义整数。进一步地，我们可以定义有理数。

\begin{definition}[有理数]
    若$p,q\in\ZZ,q\neq0$，则定义$\displaystyle \frac{p}{q}$为有理数

    有理数集记作$\QQ$
\end{definition}

由有理数的定义，我们将$\RR\backslash\QQ$称为无理数

在实数这一章节中，一个关键点就是构造$\sqrt{2},e,\pi$这样的数。中学数学似乎从未给出这些数的具体定义（只是告诉了某些性质）。然而，上述公理并不足够定义这些无理数。

\begin{itemize}
    \item[(I)] 区间套公理
\end{itemize}

给定有限（即下面的$a_n$和$b_n$均为实数）闭区间的序列$\{I_n = [a_n,b_n]\}_{n=1,2,\cdots}$，如果这个序列是下降的，即$I_1\supset I_2\supset \cdots$，那么他们的交集非空，即

\begin{equation*}
    \lim_{n\rightarrow \infty}I_n:=\bigcap_{n\geq 1}I_n\neq \varnothing
\end{equation*}

\begin{definition}[实数]
    满足上述四套公理系统(F),(O),(A),(I)的四元组$(\RR,+,\cdot,\leq)$称作是实数
\end{definition}

事实上，有理数也满足(F),(O),(A)这三套公理系统，所以，要想得到我们中学所熟悉的实数，区间套公理是不可或缺的。

\subsection{Dedekind分割}

\begin{definition}[Dedekind分割与实数的构造]
    设集合$X\subset \QQ$，令$X' = \QQ \backslash X$，如果下面三条性质都成立：

    \begin{enumerate}
        \item $X\neq \varnothing,x'\neq \varnothing$
        \item $\forall x\in X,x'\in X$，都有$x<x'$
        \item $X$中没有最大元
    \end{enumerate}

    则称$X$或$X\cup X'$是$Q$的一个Dedekind分割。我们用$\mathcal{R}$表示所有Dedekind分割组成的集合
\end{definition}

现在，我们要在$\mathcal{R}$上定义序关系，加法和乘法，使得$(\mathcal{R},+,\cdot,\leq)$满足四套公理。

首先定义序关系。对任意的$X,Y\in\mathcal{R}$，作为$\QQ$的子集，若

\begin{itemize}
    \item $X=Y$，则称$X=Y$
    \item $X\subset Y$，且$X\neq Y$，则称$X<Y$
\end{itemize}

不难验证这个序关系满足公理(O)

现在定义加法运算。对任意的$X,Y\in\mathcal{R}$，定义$X+Y:=\{x+y:x\in X,y\in Y\}$

同时定义零元素$\bar{0}$为$\bar{0}=X_0=\{x\in \QQ:x<0\}$

首先需要证明$X+Y$是个Dedekind分割，即

\begin{enumerate}
    \item $X+Y$及其补集是非空的
    \item $\forall x+y\in X+Y$，其中$x\in X,y\in Y$，如果有理数$z<x+y$，那么$z\in X+Y$
    \item $X+Y$没有最大元
\end{enumerate}

\begin{proof}
    先证明第一条。由于$X$和$Y$非空，显然，$X+Y$非空。

    随意选定$x_0'\in X',y_0'\in Y'$，那么$\forall x\in X,y\in Y$，都有$x<x_0',y<y_0'$
    
    所以，$\forall x\in X,y\in Y$，我们都有$x+y<x_0'+y_0'$，也就是说$x_0'+y_0'$比$X+Y$中所有数都大。
    
    特别地，$x_0'+y_0'\notin X+Y$，所以$X+Y$的补集不是空集

    再证明第二条。

    注意到$z<x+y\Leftrightarrow z-x<y$，所以$z-x\in Y$，又$x\in X$，所以$x+z-x\in X+Y$，即$z\in X+Y$

    最后证第三条。用反证法。

    假设$X+Y$中有最大元$x_0+y_0$，其中$x_0\in X,y_0\in Y$。根据定义，由于$X$和$Y$没有最大元，所以存在$x\in X,y\in Y$，使得$x_0<x,y_0<y$，从而$x_0+y_0<x+y$，而这与$x_0+y_0$是最大元的假设矛盾。
\end{proof}

下面，我们需要验证和加法相关的几条公理，如果不加其他的描述，默认$X,Y,Z\in\mathcal{R}$

根据定义，加法交换律(F2)和加法结合律(F1)显然成立。现证明(O4)

\begin{itemize}
    \item[(O4)] 如果$x<y$，那么$X+Z<Y+Z$ 
\end{itemize}

(O4)的证明比较复杂，需要用到一个引理

\begin{lemma}
    $X$是一个Dedekind分割。那么，对于任意正整数$n$，总存在$x\in X,x'\in X'$，使得

    \begin{equation*}
        0<x'-x,\frac{1}{n}
    \end{equation*}
\end{lemma}

\begin{proof}
    任意选定$x_0\in X,x_0'\in X'$，尝试归纳地构造一系列$(x_k,x_k')$，其中$x\geq 0,x_k \in X,x_k'\in X'$。

    设$(x_k,x_k')$已经构造完成，考虑$y=\displaystyle \frac{1}{2}(x_k+x_k')$，有两种情况：如果$y\in X$，那么令$(x_{k+1},x_{k+1}')=(y,x_k')$；如果$y\in X'$，那么定义$(x_{k+1},x_{k+1}')=(x_k,y)$

    显然，有

    \begin{equation*}
        |x_{k+1}-x_{k+1}'|=\frac{1}{2}|x_k-x_k'|\ \Rightarrow \ |x_k-x_k'| = \frac{1}{2^k}|x_0-x_0'|
    \end{equation*}

    对任意$k$成立。

    特别地，选取$k_0$，使得$2^{k_0}>n|x_0-x_0'|$，从而$x=x_{k_0}\in X$和$x'=x_{k_0}'\in X'$满足要求

    \qde
\end{proof}

现在回到(O4)的证明

\begin{proof}
    不难发现，若$X<Y$，显然$X+Z\leq Y+Z$.所以只需要证明$X+Z\neq Y+Z$即可

    在$Y\backslash X$中选取$y,\tilde{y}$.再选取合适的自然数$n$，使得$\displaystyle \frac{1}{n}<y-\tilde{y}$.不难证明，$n$总是存在。

    根据引理，再取$z\in Z,z'\in Z'$，使得$\displaystyle z'-x<\frac{1}{n}$

    现在，只需证明$y+z\notin X+Z$，使用反证法

    假设$y+z \in X+Z$，那么存在$x\in X,z_1\in Z$，使得$y+z=x+z_1$.

    按照定义$x<\tilde{y}$，所以$z_1<z'$.这样，就得到如下两个不等式：

    \begin{equation*}
        x<(\tilde{y}-y)+y
    \end{equation*}

    \begin{equation*}
        z_1<(z'-z)+z<\frac{1}{n}+z<(y-\tilde{y})+z
    \end{equation*}

    将两式相加，得到$x+z_1<y+Z$，矛盾
\end{proof}

接下来验证(F3)

\begin{itemize}
    \item[(F3)] $\forall X\in \mathcal{R},\bar{0}+X=X$
\end{itemize}

\begin{proof}
    根据$\bar{0}$的定义，$\bar{0}+X=\{x+(-a):a\in \QQ_{>0}\}$，
    
    假设$x-a\in \bar{0}+X$是任意给定的一个元素，其中$x\in X,a\in \QQ_{>0}$，那么，根据$x-a<x$，我们知道$x-a\in X$，即$\bar{0}+X\subset X$；

    假设$x\in X$是任给定的一个元素，那么一定存在$x'\in X$，使得$x>x'$

    令$a=x'-x\in\QQ_{>0}$，从而

    \begin{equation*}
        x=x'+(-a)
    \end{equation*}

    即$x\in \bar{0}+x$，所以$X\subset \bar{0}+X$
\end{proof}

\begin{itemize}
    \item[(F4)] 对任意的Dedekind分割$X$和$Y$，存在唯一的$Z\in \mathcal{R}$，使得$X+Z=Y$ 
\end{itemize}

$Y=\bar{0}$的情况就是公理(F5)

\begin{proof}
    $X,Y\in\mathcal{R}$给定，我们按照下面的方式定义$Z$
    \begin{equation*}
        Z=\{y-x':y\in Y,x' \in X' \}
    \end{equation*}

    首先需要证明$Z\in \mathcal{R}$，这个证明方法与之前验证$X+Y\in\mathcal{R}$的方法类似：

    \begin{itemize}
        \item $Z\neq \varnothing,Z' \neq \varnothing$ \\
        Z显然不是空集。为了说明$Z'$不是空集，我们选定$y_o'\in Y,x_0\in X$，那么只需要说明$y_0'-x_0\notin Z$即可；如若不然，存在$y\in Y$和$x'\in X'$，使得$y-x' = x_0'-x_0$，即$y+x_0=y_0'+x'$，这与$y<y_0'$和$x_0<x$矛盾
        \item 对任意的$y-x\in Z$，其中$y\in Y,x'\in X'$，如果$z<y-x'$，就一定有$z\in Z$\\
        只需要把$z$分解为$z=y-(y-z)$，根据$z<y-x'$，我们知道$y-z>x'$，我已$y-z\in X'$，所以$z$可以写成$Y$中元素与$X'$中元素的差
        \item $Z$中的元素没有最大元\\
        显然成立
    \end{itemize}
\end{proof}
