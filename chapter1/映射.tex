\section{映射与基数}

通过映射，我们把不同的集合联系起来。而运用映射联系不同的集合时，有时会出现不能建立联系的情况，这种情况发生的原因是因为集合中元素的多少不同。

对于有限集，我们很容易描述它元素的个数来表示其中元素的多少；而对于无限集，元素的多少是难以描述的。同为无限集时，有些集合的元素远多于另一个集合以至于不能一一对应。但有时，看起来元素不一样多的集合却能够形成一一对应的关系（比如说整数和偶数）。为了衡量集合中元素的多少，引入基数的概念。

\subsection{映射}

在中学中，我们已经学过函数的概念。函数是从定义域到$\RR$的一种对应关系，我们把这种概念推广到一般的集合。

\begin{definition}[映射]
    设非空集合$X,Y$，若$\forall x\in X$，存在唯一的$y\in Y$与之对应，则称这个对应为映射。若用$f$表示这种对应，则记作

    \begin{equation*}
        f:X\rightarrow Y
    \end{equation*}

    并称$f$是从$X$到$Y$的一个映射。
\end{definition}

类似于复合函数，有复合映射

\begin{definition}
    设$f:X\rightarrow Y,g:Y\rightarrow W$，则
    \[h(x) = g(f(x)),x\in X \]

    定义的$h$称为$g$与$f$的复合映射，可记作$f\circ g$
\end{definition}

类似于函数的自变量和因变量，映射有“像”和“原像”。

\begin{definition}[像、原像]
    设$x\in X$，$y$是$Y$中与$x$对应的元素，称$y=f(x)$是$x$的像，$x$是$y$的原像。
    
    对于集合，称$f(A)=\{y\in Y:x\in A,y=f(x)\}$为$A$的像集（可简称为像）；

    称$f^{-1}(B)=\{x\in X:y\in B,y=f(x)\}$为$B$关于$f$的原像集（可简称为原像）。
\end{definition}

显然，像具有以下性质

\begin{enumerate}
    \item $\displaystyle f\left(\bigcup_{\alpha \in I}A_\alpha \right)= \bigcup_{\indexAlpha}f(A_\alpha)$
    \item $\displaystyle f\left(\bigcap_{\alpha \in I}A_\alpha \right)\subset \bigcap_{\indexAlpha}f(A_\alpha)$
    \item $\displaystyle f^{-1}\left(\bigcup_{\alpha \in I}B_\alpha \right)= \bigcup_{\indexAlpha}f^{-1}(B_\alpha)(B_\alpha \subset Y,\indexAlpha)$
    \item $\displaystyle f^{-1}\left(\bigcap_{\alpha \in I}B_\alpha \right)= \bigcap_{\indexAlpha}f^{-1}(B_\alpha)(B_\alpha\in Y,\indexAlpha)$ 
    \item 若$B_1\subset B_2 \subset Y$，则$f^{-1}(B_1)\subset f^{-1}(B_2)$
\end{enumerate}

接下来，将要讲到3个重要的映射——单射、满射、双射。

\begin{definition}[单射]
    不同元有不同像的映射是单射，即：

    设$f:X\rightarrow Y$，若$\forall x_1,x_2 \in X\text{且}x_1 \neq x_2$时，有$f(x_1)\neq f(x_2)$，则$f$是单射。
\end{definition}

    一种单射的等价描述是：任何一个像都只有一个原像的映射是单射

\begin{definition}[满射]
    $Y$是像的映射是满射，即：

    设$f:X\rightarrow Y$，若$\forall y\in Y,\exists x\in X,y=f(x)$，则$f$是满射。
\end{definition}

\begin{definition}[双射]
    既是单射又是满射的映射是双射
\end{definition}

不难发现，整数集和偶数集能够形成双射。事实上，与真子集形成双射是无限集区别于有限集的一个重要特征。

\begin{proposition}
    一个集合能够与它的真子集形成双射当且仅当它是无限集。
\end{proposition}

\begin{proof}
    先证明充分性。这个命题的逆否命题是：如果一个集合是有限集，那么它不能够和它的真子集形成双射。

    有限集$E$的元素个数为$n$，假设$E$的真子集$A$与$E$形成双射$f:E\rightarrow A$。

    因为$f$是双射，$\forall a\in A$，总能找到不重复的$b\in E$使得$f(b) = a$

    因为$E$有$n$个元素，所以能在$A$中找到$n$个不重复的元素，这与$A\subsetneq E$矛盾，所以假设不成立，充分性得证。

    证明必要性只需要找到一个任何无限集都存在的到自身真子集的双射。

    设无限集$B$，由于$B$是无限集，由定理\ref{th:aleph0IsMin}，必定存在一个自然数集$\NN$到$B$的单射，于是，得到了一列元素${b_n}(n\in \NN+)$.

    这样，可以定义映射$g:B\rightarrow B\backslash\{b_1\}$，$g$的定义如下：

    若$\forall n\in \NN+,x\neq b_n$，则令$g(x) = x$；若$\exists  n_0\in\NN+,x = b_{n_0}$，则令$g(x) = b_{n_0+1}$

    显然，$g$是双射，必要性得证
\end{proof}

在下一部分中，我们将比较集合的多少。比较集合的多少会经常需要证明两个集合之间存在双射。

\subsection{基数}

对于一个集合，集合中元素的个数是最基本的问题之一，设集合$A,B$，如何比较哪一个集合元素的个数多？

对于有限集，比较集合元素的多少是简单的。但对于无限集，情况就复杂了。首先我要告诉你：无限集的元素并不是一样多的，不要因为不知道怎么比较就认为无限集的元素都一样多。

首先，一个经典且有趣的问题，自然数和偶数哪个多？

你也许会想当然地认为：自然数包含偶数和奇数，所以自然数多。但是，我们可以轻易地把自然数和偶数一一对应（只需要乘2就可以），这时，它们看起来是一样多的。

数学上要求，比较集合元素的多少用第二种方法——利用映射（尤其是双射）进行比较。

\begin{definition}
    设集合$A,B$，若存在一个双射$f:A\rightarrow B$，则称集合$A$与$B$对等，记作$A\sim B$
\end{definition}

\begin{example}
    求证$\NN \times \NN \sim \NN$
\end{example}

\begin{proof}
    我们知道，任何一个大于1的整数都能够被素因数分解。并且，2是最小的素数。

    所以，任意自然数$n$均可唯一地表示为$n=2^p \cdot q$，其中$p$为非负整数，$q$为正奇数。

    于是，就存在双射
    \[f(i,j) = 2^{i-1}(2j-1),\quad (i,j\in \NN) \]
    
    满足$\NN \times \NN \rightarrow \NN$

\end{proof}

显然，对等关系具有以下基本性质：

\begin{enumerate}
    \item $A\sim A$
    \item 若$A\sim B$，则$B\sim A$
    \item 若$A\sim B,B\sim C$，则$A\sim C$
\end{enumerate}

由这些性质，我们就可以通过过渡集合获得两个集合之间的一一对应关系。此外，还可以采用分解与合成的思想，尤其是以下的Cantor-Bernstein定理，更是一种证明集合对等的重要手段。

\begin{remark}
    这个定理的证明是一个难点
\end{remark}

\begin{theorem}[Cantor-Bernstein定理]
    若集合$X$与$Y$的某个真子集对等，$Y$与$X$的某个真子集对等，则$X\sim Y$

    这个定理的一种等价叙述是：若集合$X,Y$间存在映射$f:X\rightarrow Y,g:Y\rightarrow X$，且都是单射，则$X\sim Y$
\end{theorem}

\begin{proof}
    首先对集合进行划分。设单射$f:X\rightarrow Y,g:Y\rightarrow X$

    定义一个可能用于划分集合的过程$r$：

    对集合$X$中的点$x\in A$，$r(x) = g^{-1}(x) \in Y$；

    对集合$B$中的点$y\in B$，$r(y) = f^{-1}(y) \in X$.

    对$X$中的点进行$r$过程，得到$Y$中的点，再对这个点进行$r$过程，会再次得到$X$中的点（假设这些操作均可行）

    注意到，集合$X\backslash g(Y)$和集合$Y\backslash f(X)$中的点不能进行$r$过程。

    根据是否能无限地迭代进行$r$过程，将$X,Y$分别分割成3个部分，即
    \[ X= X_\infty \sqcup X_X \sqcup X_Y\]
    \[Y = Y_\infty \sqcup Y_X \sqcup Y_Y\]

    其中下标为$\infty$的集合中的点能够无限地进行$r$过程；下标为$X$的集合在进行$n(n\geq 0)$次过程后，落入集合$X\backslash g(Y)$；下标为$Y$的集合在进行$n(n\geq 0)$次过程后，落入集合$Y\backslash f(X)$

    首先，限制在$X_\infty \rightarrow Y_\infty$的映射$f$是一个双射，理由如下：

    对任意一个$Y_\infty$中的点$y_\infty$，进行一次$r$过程，必定会得到$X_\infty$中的点$x_\infty$，即
    \[\forall y_\infty \in Y_\infty,\ \exists x_\infty ,\ f^{-1}\left(y_\infty \right) = x_\infty\]
    
    所以，$f:X_\infty \rightarrow Y_\infty$是满射。

    又因为$f$是单射，所以$f:X_\infty \rightarrow Y_\infty$是双射。

    同理，$f: X_X \rightarrow Y_X$是双射。

    对于$X$的最后一部分（$X_Y$），我们不能仿照上面的做法。因为对于$Y \backslash f(X) \subset Y_Y$，而$Y \backslash f(X)$是$f$是达不到的。

    所以对于这一部分，我们要用$g$构造双射。

    对任意$X_Y$中的点$x_Y$，进行一次过程$r$，必然会得到$Y_Y$中的点$y_Y$，即

    \[\forall x_Y \in X_Y,\ \exists y_Y\in Y_Y,\ g^{-1}(x_Y) = y_Y \]

    所以$g: Y_Y\rightarrow X_Y$是双射，所以$g^{-1}:X_Y \rightarrow Y_Y$是双射。

    于是，就得到了双射$h:X\rightarrow Y$

    \begin{equation*}
        h(x) =
    \begin{cases}
         f(x), \text{当}x\in X_\infty \cup X_X \\
         g^{-1}(x),\text{当}x\in X_Y
    \end{cases}
    \end{equation*}

\end{proof}

\begin{remark}
    符号$\sqcup$称作无交并，这个符号的意义是：对于满足$M\cap N = \varnothing$的集合$M,N,$有$M\sqcup N = M\cup N$
\end{remark}

在定理的基础上，有：设集合$A,B,C$满足以下关系：
\[C\subset A \subset B\]

那么就有：若$B\sim C$，则$B\sim A$

\begin{example}
    求证：$[-1,1]\sim \RR$
\end{example}

运用正切函数，不难证明$(-1,1)\sim \RR$

由于$(-1,1)\subset [-1,1] \subset \RR$

所以$[-1,1]\sim \RR$

$\blacksquare $

事实上，建立$[-1,1]$与$\RR$之间的双射是有些困难的，如果读者有兴趣，可以尝试一下。

现在，让我们正式开始讲基数的概念。

\begin{definition}[基数（势）]
    若$A\sim B$，那么$A$与$B$的基数是相同的。记作$\dbar{A} = \dbar{B}$

    若$A$与$B$的子集对等，则记作$\dbar{A}\leq \dbar{B}$（反之同理）

    若$\dbar{A}\leq \dbar{B}$且$\dbar{A}\neq \dbar{B}$，则记作$\dbar{A}< \dbar{B}$（反之同理）
\end{definition}

由Cantor-Bernstein定理，显然，若$\dbar{A}\leq \dbar{B}$且$\dbar{A}\geq \dbar{B}$，则$\dbar{A} = \dbar{B}$

\begin{remark}
    由于选择公理，不可能发生下述情景：$A$与$B$的任一子集不对等且$B$与$A$的任一子集不对等。有些关于集合的命题的证明必须用到选择公理。但若承认选择公理成立，就会得出一些奇怪的结论，如“分球怪论”（Banach–Tarski 悖论）。
\end{remark}

现在提出一个问题：是否有最大的基数？事实上，没有最大的基数。

\begin{theorem}[无最大基数定理]
    若$A$是非空集合，则$\dbar{\PP (A)} >\dbar{A}$
\end{theorem}

\begin{proof}
    显然，$\dbar{\PP (A)} \geq\dbar{A}$，只需证$\dbar{\PP (A)} \neq\dbar{A}$

    设$\dbar{\PP (A)} =\dbar{A}$，则存在双射$f:A\rightarrow \PP(A)$，

    作集合$B=\{x\in A:x\notin f(x) \}$

    显然，$B\in \PP(A)$

    由双射定义，$\exists y\in A,f(y) = B \in \PP(A)$

    于是产生了类似于罗素悖论的情况。

    \begin{enumerate}
        \item 若$y\in B$，则由$B$的定义，$y\notin f(y) =B$
        \item 若$y\notin B$，则由$B$的定义，$y\in f(y) = B$
    \end{enumerate}

    这个矛盾表明$f$不存在，即$\dbar{\PP (A)} \neq\dbar{A}$

    $\blacksquare$

\end{proof}

有了基数的定义，就能够明确地定义有限集和无限集。

\begin{definition}[有限集和无限集]
    设集合$A$，如果$\exists n,A\sim \{1,2,\cdots,n\}$，则$A$为有限集，并用$n$表示$A$的基数。

    若一个集合不是有限集，则是无限集
\end{definition}

\section{可数集}

\begin{definition}[可数集]
    记自然数集$\NN$的基数为$\aleph_0  $（读作阿列夫零，Aleph zero）。
    
    若$\dbar{A} = \aleph_0$，则$A$为可数集（也叫作可列集）

    若$\dbar{B}>\aleph_0$，则$B$为不可数集
\end{definition}

在日常生活中，通常，我们会用自然数来数数，因而将与$\NN$对等的集合称作可数集，因为可以将$A$中元素按一一对应关系以自然数附以下标，如

\[A=\{a_1,a_2,\cdots,a_n,\cdots \}\]

\begin{theorem}
    \label{th:aleph0IsMin}
    任一无限集必定包含可数子集
\end{theorem}

\begin{proof}
    设无限集$E$

    任取$E$中一元素，记为$a_1$，在从$E\backslash \{a_1\}$中任取一元，记为$a_2,\cdots$

    设已选出$a_1,a_2,\cdots,a_n$,因为$E$是无限集，所以还可以继续重复

    这样，就得到一个可数集且是$E$的子集

    \qde
\end{proof}

这个定理说明，在所有的无限集中，最小的基数是$\aleph_0$

显然，可数集有以下性质：

若$A$和$B$是可数集，则

\begin{enumerate}
    \item $A\cap B$是可数集或有限集或$\varnothing$
    \item $A\cup B$是可数集
\end{enumerate}

\begin{theorem}
    \label{th:countableCupIscountable}
    若$A_n(n=1,2,\cdots)$为可数集，则并集
    \[A=\bigcup_{n=1}^{\infty} A_n\]

    也是可数集
\end{theorem}

\begin{proof}
    只需讨论$A_i\cap A_j \neq \varnothing(i\neq j)$的情景，设：
    \begin{equation*}
        A_1=\{a_{11},a_{12},\cdots,a_{1j},\cdots\},
    \end{equation*}
    \begin{equation*}
        A_2=\{a_{21},a_{22},\cdots,a_{2j},\cdots\}, 
    \end{equation*}
    \begin{equation*}
        \cdots \cdots \cdots \cdots \cdots \cdots \cdots \cdots \cdots \cdots
    \end{equation*}
    \begin{equation*}
        A_i=\{a_{i1},a_{i2},\cdots,a_{ij},\cdots\}
    \end{equation*}
    \begin{equation*}
        \cdots \cdots \cdots \cdots \cdots \cdots \cdots \cdots \cdots \cdots
    \end{equation*}

    将$A$中元素按照对角线排列形如

    \begin{equation*}
        \begin{matrix}
            a_{11} &\ & a_{12} &\  &a_{13} &\ &a_{14}& \cdots \\
            \  & \nearrow & \ &\nearrow &\ &\nearrow \\
            a_{21} &\ &a_{22}&\ &a_{23}&\ &a_{24} &\cdots \\
            \ & \nearrow &\ &\nearrow \\
            a_{31}&\ &a_{32}&\ &a_{33}&\ &a_{34} &\cdots \\
            \  &\nearrow &\ \\
            a_{41}&\ &a_{42}&\ &a_{43} &\ &a_{44}&\cdots \\
            \vdots &\ &\vdots&\ &\vdots&\ &\vdots
        \end{matrix}
    \end{equation*}

    得到集合
    \[\{a_{11},a_{21},a_{12},a_{31},a_{22},a_{13},\cdots\}\]

    因此，设集合$\{b_n\} =\bigcup_{k=1}^{\infty} A_k$，$b_n = a_{ij}$，其中
    \[n=j+\sum_{k=1}^{i+j-2}k \]

    \qde
\end{proof}

\begin{proposition}
    $\QQ$是可数集
\end{proposition}
\begin{proof}
    设集合$A_i=\{i/k :k\in\NN\}$

    由定理\ref{th:countableCupIscountable}，正有理数集$\bigcup_{i=1}^{\infty}A_i$是可数集

    因为正有理数集是可数集，所以负有理数集也是可数集，所以有理数集是可数集。

    \qde
\end{proof}

\begin{proposition}
    \label{th:repn}
    $\RR \sim \PP (\NN)$
\end{proposition}

\begin{proof}
    设数列$\{a_n\},\forall n,a_n \in\{0,1\}$

    令全体$\{a_n\}$组成的数列为$A$，则$A\sim \PP(\NN)$，因为存在双射$f:\PP \rightarrow A$，$f$定义如下
    \[\forall n,\text{若}n\in B(B\in \PP(\NN)),\text{则}a_n=1,\text{否则}a_n=0\]

    注意到$B=\{\{a_n\}:\exists k\geq 0,\forall n\geq k, a_n=1\}$是可数的，所以$\dbar{A\backslash B} = \dbar{A}$

    而$\forall a_n \in A\backslash B,r\in [0,1)$可唯一表示为

    \[r=\sum_{n=1}^{\infty} \frac{a_n}{2^n}\]

    所以$\dbar{\RR} = \dbar{B\backslash A} = \dbar{A} = \dbar{\PP(\NN)}$
\end{proof}

\begin{remark}
    上述$A$中的元素并不能唯一地表示为那个和式，这个原因之后再讲
\end{remark}

由命题\ref{th:repn}，可得出$\RR$是不可数集